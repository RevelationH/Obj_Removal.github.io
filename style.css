Skip to content
 
Search…
All gists
Back to GitHub
@RevelationH
RevelationH/index.html
Created 1 minute ago
Code
Revisions
1
Clone this repository at &lt;script src=&quot;https://gist.github.com/RevelationH/cb8b1e2419edfadd22924554a0d6b102.js&quot;&gt;&lt;/script&gt;
<script src="https://gist.github.com/RevelationH/cb8b1e2419edfadd22924554a0d6b102.js"></script>
JjVYzVE
index.html
<div id="video-compare-container-1">
  <video loop autoplay poster="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/dirty.jpg">
    <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-dirty.mp4>
    <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-dirty.webm>
  </video>
 <div id="video-clipper-1">
    <video loop autoplay poster="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/clean.jpg">
      <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-clean.mp4>
      <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-clean.webm>
    </video>
  </div>
	</div>

<div id="video-compare-container-2">
  <video loop autoplay poster="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/dirty.jpg">
    <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-dirty.mp4>
    <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-dirty.webm>
  </video>
 <div id="video-clipper-2">
    <video loop autoplay poster="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/clean.jpg">
      <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-clean.mp4>
      <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-clean.webm>
    </video>
  </div>
	</div>

  <div id="video-compare-container-3">
  <video loop autoplay poster="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/dirty.jpg">
    <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-dirty.mp4>
    <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-dirty.webm>
  </video>
 <div id="video-clipper-3">
    <video loop autoplay poster="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/clean.jpg">
      <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-clean.mp4>
      <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-clean.webm>
    </video>
  </div>
	</div>

  <div id="video-compare-container-4">
  <video loop autoplay poster="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/dirty.jpg">
    <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-dirty.mp4>
    <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-dirty.webm>
  </video>
 <div id="video-clipper-4">
    <video loop autoplay poster="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/clean.jpg">
      <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-clean.mp4>
      <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-clean.webm>
    </video>
  </div>
	</div>

  <div id="video-compare-container-5">
  <video loop autoplay poster="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/dirty.jpg">
    <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-dirty.mp4>
    <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-dirty.webm>
  </video>
 <div id="video-clipper-5">
    <video loop autoplay poster="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/clean.jpg">
      <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-clean.mp4>
      <source src=https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/floodplain-clean.webm>
    </video>
  </div>
	</div>
jjvyzve.markdown
JjVYzVE
A Pen by Langxi Huang on CodePen.

License.

script.js
function createTrackLocationHandler(containerId, clipperId) {
  var videoContainer = document.getElementById(containerId),
      videoClipper = document.getElementById(clipperId),
      clippedVideo = videoClipper.getElementsByTagName("video")[0];

  return function(e) {
    var rect = videoContainer.getBoundingClientRect(),
        position = ((e.pageX - rect.left) / videoContainer.offsetWidth) * 100;
    if (position <= 100) { 
      videoClipper.style.width = position + "%";
      clippedVideo.style.width = ((100 / position) * 100) + "%";
      clippedVideo.style.zIndex = 3;
    }
  };
}

// 为第一个视频容器设置事件处理
var trackLocation1 = createTrackLocationHandler("video-compare-container-1", "video-clipper-1");
var videoContainer1 = document.getElementById("video-compare-container-1");
videoContainer1.addEventListener("mousemove", trackLocation1, false); 
videoContainer1.addEventListener("touchstart", trackLocation1, false);
videoContainer1.addEventListener("touchmove", trackLocation1, false);

// 为第二个视频容器设置事件处理
var trackLocation2 = createTrackLocationHandler("video-compare-container-2", "video-clipper-2");
var videoContainer2 = document.getElementById("video-compare-container-2");
videoContainer2.addEventListener("mousemove", trackLocation2, false); 
videoContainer2.addEventListener("touchstart", trackLocation2, false);
videoContainer2.addEventListener("touchmove", trackLocation2, false);

var trackLocation3 = createTrackLocationHandler("video-compare-container-3", "video-clipper-3");
var videoContainer3 = document.getElementById("video-compare-container-3");
videoContainer3.addEventListener("mousemove", trackLocation3, false); 
videoContainer3.addEventListener("touchstart", trackLocation3, false);
videoContainer3.addEventListener("touchmove", trackLocation3, false);

var trackLocation4 = createTrackLocationHandler("video-compare-container-4", "video-clipper-4");
var videoContainer4 = document.getElementById("video-compare-container-4");
videoContainer4.addEventListener("mousemove", trackLocation4, false); 
videoContainer4.addEventListener("touchstart", trackLocation4, false);
videoContainer4.addEventListener("touchmove", trackLocation4, false);

var trackLocation5 = createTrackLocationHandler("video-compare-container-5", "video-clipper-5");
var videoContainer5 = document.getElementById("video-compare-container-5");
videoContainer5.addEventListener("mousemove", trackLocation5, false); 
videoContainer5.addEventListener("touchstart", trackLocation5, false);
videoContainer5.addEventListener("touchmove", trackLocation5, false);
style.css
body {
  background: #333;
  margin: 2rem;
}
#video-compare-container-1 {
  display: inline-block;
  line-height: 0;
  position: relative;
  width: 100%;
  padding-top: 42.3%;
}
#video-compare-container-1 > video {
  width: 100%;
  position: absolute;
  top: 0; height: 100%;
}
#video-clipper-1 {
  width: 50%; position: absolute;
  top: 0; bottom: 0;
  overflow: hidden;
}
#video-clipper-1 video {
  width: 200%;
  postion: absolute;
  height: 100%;
}

body {
  background: #333;
  margin: 2rem;
}
#video-compare-container-2 {
  display: inline-block;
  line-height: 0;
  position: relative;
  width: 100%;
  padding-top: 42.3%;
}
#video-compare-container-2 > video {
  width: 100%;
  position: absolute;
  top: 0; height: 100%;
}
#video-clipper-2 {
  width: 50%; position: absolute;
  top: 0; bottom: 0;
  overflow: hidden;
}
#video-clipper-2 video {
  width: 200%;
  postion: absolute;
  height: 100%;
}

body {
  background: #333;
  margin: 2rem;
}
#video-compare-container-3 {
  display: inline-block;
  line-height: 0;
  position: relative;
  width: 100%;
  padding-top: 42.3%;
}
#video-compare-container-3 > video {
  width: 100%;
  position: absolute;
  top: 0; height: 100%;
}
#video-clipper-3 {
  width: 50%; position: absolute;
  top: 0; bottom: 0;
  overflow: hidden;
}
#video-clipper-3 video {
  width: 200%;
  postion: absolute;
  height: 100%;
}

body {
  background: #333;
  margin: 2rem;
}
#video-compare-container-4 {
  display: inline-block;
  line-height: 0;
  position: relative;
  width: 100%;
  padding-top: 42.3%;
}
#video-compare-container-4 > video {
  width: 100%;
  position: absolute;
  top: 0; height: 100%;
}
#video-clipper-4 {
  width: 50%; position: absolute;
  top: 0; bottom: 0;
  overflow: hidden;
}
#video-clipper-4 video {
  width: 200%;
  postion: absolute;
  height: 100%;
}

body {
  background: #333;
  margin: 2rem;
}
#video-compare-container-5 {
  display: inline-block;
  line-height: 0;
  position: relative;
  width: 100%;
  padding-top: 42.3%;
}
#video-compare-container-5 > video {
  width: 100%;
  position: absolute;
  top: 0; height: 100%;
}
#video-clipper-5 {
  width: 50%; position: absolute;
  top: 0; bottom: 0;
  overflow: hidden;
}
#video-clipper-5 video {
  width: 200%;
  postion: absolute;
  height: 100%;
}
@RevelationH
Comment
 
Leave a comment
 
Footer
© 2024 GitHub, Inc.
Footer navigation
Terms
Privacy
Security
Status
Docs
Contact
Manage cookies
Do not share my personal information
